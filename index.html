<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Buddies - Internet Safety App</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { Home, Info, Play, Globe } = lucide;

        const SafeBuddies = () => {
          const [userName, setUserName] = React.useState('');
          const [userAge, setUserAge] = React.useState(null);
          const [gameNameInput, setGameNameInput] = React.useState('');
          const [ageSelected, setAgeSelected] = React.useState(false);
          const [currentView, setCurrentView] = React.useState('home');
          const [currentGame, setCurrentGame] = React.useState(null);
          const [scores, setScores] = React.useState({});
          const [selectedDifficulty, setSelectedDifficulty] = React.useState(null);
          const [currentDateTime, setCurrentDateTime] = React.useState(new Date());
          
          const [showParentalAuth, setShowParentalAuth] = React.useState(false);
          const [mathQuestion, setMathQuestion] = React.useState({ num1: 0, num2: 0, operation: 'x', answer: 0 });
          const [userAnswer, setUserAnswer] = React.useState('');
          const [timeLimit, setTimeLimit] = React.useState(60);
          const [timeRemaining, setTimeRemaining] = React.useState(null);
          const [isTimeLocked, setIsTimeLocked] = React.useState(false);
          const [authError, setAuthError] = React.useState('');
          const [voiceType, setVoiceType] = React.useState('kid');

          React.useEffect(() => {
            const timer = setInterval(() => {
              setCurrentDateTime(new Date());
            }, 1000);
            return () => clearInterval(timer);
          }, []);

          const formatDateTime = () => {
            const options = { 
              weekday: 'long', 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric',
              hour: '2-digit',
              minute: '2-digit',
              second: '2-digit'
            };
            return currentDateTime.toLocaleString('en-US', options);
          };

          const speakText = (text) => {
            if ('speechSynthesis' in window) {
              window.speechSynthesis.cancel();
              
              const utterance = new SpeechSynthesisUtterance(text);
              
              const voices = window.speechSynthesis.getVoices();
              
              if (voiceType === 'kid') {
                const femaleVoice = voices.find(voice => 
                  voice.name.includes('Google US English') || 
                  voice.name.includes('Microsoft Zira') ||
                  voice.name.includes('Samantha') ||
                  voice.lang === 'en-US' && voice.name.toLowerCase().includes('female')
                );
                if (femaleVoice) utterance.voice = femaleVoice;
                utterance.rate = 0.9;
                utterance.pitch = 1.5;
                utterance.volume = 0.9;
              } else if (voiceType === 'adult') {
                utterance.rate = 0.95;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
              } else if (voiceType === 'slow') {
                utterance.rate = 0.7;
                utterance.pitch = 1.2;
                utterance.volume = 1.0;
              }
              
              window.speechSynthesis.speak(utterance);
            }
          };

          const generateMathQuestion = () => {
            const operations = ['x', '√∑'];
            const operation = operations[Math.floor(Math.random() * 2)];
            let num1, num2, answer;
            
            if (operation === 'x') {
              num1 = Math.floor(Math.random() * 10) + 2;
              num2 = Math.floor(Math.random() * 10) + 2;
              answer = num1 * num2;
            } else {
              num2 = Math.floor(Math.random() * 10) + 2;
              answer = Math.floor(Math.random() * 10) + 2;
              num1 = num2 * answer;
            }
            
            setMathQuestion({ num1, num2, operation, answer });
            setUserAnswer('');
            setAuthError('');
          };

          const handleParentalAuth = () => {
            if (parseInt(userAnswer) === mathQuestion.answer) {
              setShowParentalAuth(false);
              setCurrentView('parental');
              setAuthError('');
            } else {
              setAuthError('Incorrect! Try again.');
              generateMathQuestion();
            }
          };

          const startTimer = () => {
            setTimeRemaining(timeLimit * 60);
            setIsTimeLocked(false);
          };

          React.useEffect(() => {
            if (timeRemaining !== null && timeRemaining > 0 && !isTimeLocked) {
              const timer = setInterval(() => {
                setTimeRemaining(prev => {
                  if (prev <= 1) {
                    setIsTimeLocked(true);
                    return 0;
                  }
                  return prev - 1;
                });
              }, 1000);
              return () => clearInterval(timer);
            }
          }, [timeRemaining, isTimeLocked]);

          const formatTime = (seconds) => {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return mins + ':' + (secs < 10 ? '0' : '') + secs;
          };

          const openParentalControls = () => {
            generateMathQuestion();
            setShowParentalAuth(true);
          };

          const updateScore = (gameName, score) => {
            setScores(prev => ({
              ...prev,
              [gameName]: Math.max(prev[gameName] || 0, score)
            }));
          };

          const handleNameSubmit = () => {
            if (gameNameInput.trim()) {
              setUserName(gameNameInput);
              setGameNameInput('');
            }
          };

          const handleAgeSelect = (age) => {
            setUserAge(age);
            setAgeSelected(true);
          };

          // Game components would go here - abbreviated for space
          // Include all your game components from the original code

          if (isTimeLocked) {
            return (
              <div className="w-full h-screen bg-gradient-to-br from-red-500 to-orange-500 flex flex-col items-center justify-center p-4">
                <div className="bg-white rounded-lg p-12 shadow-2xl max-w-lg text-center">
                  <p className="text-6xl mb-6">‚è∞</p>
                  <h1 className="text-4xl font-bold text-red-600 mb-4">TIME'S UP!</h1>
                  <p className="text-xl text-gray-700 mb-6">You've reached your daily time limit.</p>
                  <p className="text-lg text-gray-600">Come back tomorrow to continue learning about internet safety!</p>
                </div>
              </div>
            );
          }

          // Rest of your component code here...
          
          return (
            <div className="w-full min-h-screen bg-gradient-to-br from-purple-400 via-pink-300 to-blue-300 flex flex-col items-center justify-center p-4">
              <h1 className="text-6xl font-bold text-white drop-shadow-lg mb-8">üõ°Ô∏è Safe Buddies</h1>
              <p className="text-2xl text-white mb-4">Internet Safety App</p>
              <p className="text-lg text-white">Uploading full app code...</p>
            </div>
          );
        };

        ReactDOM.render(<SafeBuddies />, document.getElementById('root'));
    </script>
</body>
</html>